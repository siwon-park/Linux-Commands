# 05_Linux 프로세스 명령어

방화벽 관련 명령어 정리

## 1. 프로세스 정보 확인

### 프로세스 정보 출력 (ps)

> 현재 실행 중인 프로세스의 상태를 보여줌
>
> CPU 사용도가 낮은 순서로 출력

```bash
sudo ps [옵션]

# 예시
sudo ps a
sudo ps l
sudo ps al
```

보통 전체 정보를 확인할 때 `ps al`, `ps -ef`,  `ps aux`를 사용한다.

- 옵션(`-`를 붙인 것과 안 붙인 것에 미미한 차이가 있음)
  - `a` : 현재 실행 중인 모든 프로세스 출력(ps만 쳐도 -a를 함께 친 것과 같음)
  - `e` : 모든 프로세스 출력
  - `u` : 사용자의 이름과 프로세스의 시작 시간을 함께 출력
  - `x` : 사용되고 있는 모든 프로세스를 출력
  - `l` : 자세한 정보 출력
  - `p` : 지정한 PID 목록의 정보만 출력

#### ps aux 결과 상태 설명

![image](https://user-images.githubusercontent.com/93081720/219936261-9be4c90e-88aa-4b0f-9a8c-5a11fb454e0a.png)

| 이름    | 설명                             |
| ------- | -------------------------------- |
| VSZ     | 페이지 단위의 가상 메모리 사용량 |
| RSS     | 실제 사용된 메모리 양            |
| TTY     | 프로세스와 연결된 터미널 번호    |
| STAT    | 현재 프로세스 상태               |
| TIME    | 총 사용 시간                     |
| COMMAND | 실행 명령                        |

#### ps -l 결과 상태 설명

![image](https://user-images.githubusercontent.com/93081720/219936457-a3fbc660-94a1-4248-9ac4-2a84e7cda7df.png)

| 이름  | 설명                                                         |
| ----- | ------------------------------------------------------------ |
| F     | 프로세스 플래그                                              |
| PID   | 프로세스의 ID                                                |
| PPID  | 부모 프로세스의 ID (※ PPID가 1일 경우 kill 불가능)           |
| PRI   | 실행 우선 순위 값 (작을 수록 우선 순위 높음)                 |
| NI    | nice 값 (NICE 우선 순위 판별 시 사용, 작을 수록 우선 순위 높음) |
| ADDR  | 프로세스의 주기억장치 주소                                   |
| SZ    | 프로세스의 크기(단위: 블록)                                  |
| WCHAN | 프로세스가 대기나 수면 상태에서 기다리는 사건                |

<br>

### 프로세스 트리 형태 출력(pstree)

```bash
sudo pstree [옵션]
```

![image](https://user-images.githubusercontent.com/93081720/219936621-f11d6175-1c78-4ad1-86ca-83a98e8fb482.png)

- 옵션
  - `-p` : 프로세스 ID 표시
  - `-n` : 프로세스 ID를 정렬해서 표시
  - `-a` : 명령행 인자를 포함한 정보를 트리 구조에 표시
  - `-h` : 현재 프로세스와 해당 프로세스의 부모 프로세스를 강조해서 표시(볼드체로 강조됨)

<br>

## 2. 프로세스 제어

### 프로세스 종료 (kill)

> 실행 중인 프로세스를 종료함

```bash
sudo kill [옵션] [PID]

# 예시
sudo kill -9 1234567
sudo kill -15 1234567
sudo kill -TERM -1 # 자신이 실행한 모든 프로세스를 종료
```

- 옵션
  - `-9` : 프로세스 강제 종료
  - `-15` : 프로세스의 작업 종료

<br>