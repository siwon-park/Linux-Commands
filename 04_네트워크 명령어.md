# 04_Linux 네트워크 명령어

방화벽 관련 명령어 정리

## 1. ifconfig

> 시스템의 네트워크에 대한 전반적인 정보를 출력하고 설정을 수정 가능

※ Linux에서는 `ifconfig`이지만, Windows에서는 `ipconfig`임을 유의!

```bash
ifconfig
```

- `ip addr`로도 리눅스 IP 정보를 확인할 수 있음

<br>

## 2. netstat (net-tools)

`net-tools`라는 패키지를 사전에 설치해야 함

```bash
sudo apt-get install net-tools
```

### 1) 네트워크 통계 정보 확인

`netstat` 뒤에 붙는 `-옵션`은 순서 상관 없이 옵션에 해당하는 문자만 잘 쓰면 된다.

```bash
sudo netstat -tnpl
```

- 옵션 정보
  - `-l` : LISTEN 중인 포트의 목록 출력(listening 여부)
  - `-n` : 주소나 포트 형식을 숫자로 표시
  - `-p` : 프로세스 이름, 프로세스의 ID를 출력
  - `-t`: tcp로 연결된 리스트 출력
  - `-u` : udp 포트까지 전부 출력

<br>

## 3. ss

> ss; socket statistics

원래는 `netstat`을 사용했는데, 최근에는 `ss`를 주로 사용하는 추세임. netstat과 마찬가지로 옵션을 통해서 원하는 정보를 확인할 수 있으며 옵션 간 조합도 가능함

- `ss -a`: 모든 포트 정보를 확인
- `ss -t`: TCP 포트 확인
- `ss -u`: UDP 포트 확인
- `ss -l`: LISTEN하고 있는 포트 확인(listening 여부)
- `ss -p`: 프로세스 표시
- `ss -n`: 호스트, 포트, 사용자명을 숫자로 표시

<br>

## 4. telnet

> telnet; telnet 프로토콜

telnet 프로토콜을 사용하여 원격 호스트에 로그인하거나 네트워크 서비스에 접속하기 위해 사용한다. 그러나 telnet을 사용한 원격 호스트 로그인 방식은 보안에 취약하기 때문에 ssh를 사용하여 원격 호스트에 로그인하는 것이 좋다.

보통 그래서 특정 원격 호스트의 포트가 열려있는지, 네트워크 서비스 접근이 가능한지 확인하는 목적으로 더 많이 사용된다. 방화벽 정책이 정상적으로 적용되었는지도 빠르고 간단하게 확인 가능하다.

```bash
telnet [옵션] [호스트] [포트]

# 예시
telnet 172.22.1.228
telnet 172.22.1.228 5080
```

연결이 되지 않을 경우 Trying... 이라는 메세지가 나오고 일정 시간이 지나면 타임아웃이 된다.

※ 정말 중요한 것!

호스트의 특정 포트로 telnet을 시도했는데, 연결이 불가능하다고 해서 해당 호스트의 방화벽에서 그 포트를 막은 것이 아님!

- 정확히 말해서는 닫혀있을 수도 있고, 열려있을 수도 있음
- 해당 호스트에서 특정 포트에 listening 중인 서비스가 없어서 호스트의 특정 포트로 telnet 요청을 했을 때 연결이 안 될 수도 있음. 그러나 실제 방화벽은 열려있는 상태.
- 서비스가 확정적으로 해당 포트를 listening하고 있는데 telnet이 안 된다면, 그것은 방화벽이나 다른 곳에서 막고 있다는 의미.

